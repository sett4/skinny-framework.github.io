<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Use title if it's in the page YAML frontmatter -->
    <title>Skinny Framework</title>
    <script type="text/javascript" src="/javascripts/jquery-1.11.0.min.js"></script>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"/>
    <link href="/stylesheets/all.css" rel="stylesheet" type="text/css" />
    <script src="/javascripts/all.js" type="text/javascript"></script>
  </head>
  <body>
    <div class="container-fluid">
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
        <div class="navbar-header">
          <a class="navbar-brand" href="/"><b>Skinny Framework</b> <span class="subtitle">- Rapid Development in Scala -</span></a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="/documentation" class="dropdown-toggle" data-toggle="dropdown">Documentation&nbsp;<b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/documentation/getting-started.html">Getting Started</a></li>
                <li><a href="/documentation/scaffolding.html">Scaffolding</a></li>
                <li><a href="/documentation/controller-and-routes.html">Controller & Routes</a></li>
                <li><a href="/documentation/validator.html">Validator</a></li>
                <li><a href="/documentation/view-templates.html">View Templates</a></li>
                <li><a href="/documentation/oauth.html">OAuth for Login</a></li>
                <li><a href="/documentation/assets.html">Assets Support</a></li>
                <li><a href="/documentation/mail.html">Mail</a></li>
                <li><a href="/documentation/worker_jobs.html">Worker Jobs</a></li>
                <li><a href="/documentation/i18n.html">i18n</a></li>
                <li><a href="/documentation/orm.html">O/R Mapper</a></li>
                <li><a href="/documentation/factory-girl.html">FactoryGirl</a></li>
                <li><a href="/documentation/db-migration.html">DB Migration</a></li>
                <li><a href="/documentation/json.html">Working with JSON</a></li>
                <li><a href="/documentation/angular.html">Angular.js Server Side</a></li>
                <li><a href="/documentation/http-client.html">HTTP Client</a></li>
                <li><a href="/documentation/dependency-injection.html">Dependency Injection</a></li>
                <li><a href="/documentation/tasks.html">Tasks</a></li>
                <li><a href="/documentation/testing.html">Testing</a></li>
                <li><a href="/documentation/packaging.html">Packaging</a></li>
                <li><a href="/documentation/community.html">Community</a></li>
                <li><a href="/contribution.html">Contribution</a></li>
              </ul>
            </li>
            <li><a href="https://github.com/skinny-framework/skinny-framework">Source Code on GitHub</a></li>
            <li><a href="https://groups.google.com/forum/#!forum/skinny-framework">Users ML <small>(Google Group)</small></a></li>
          </ul>
        </div><!--/.nav-collapse -->
        </nav>

        <div class="col-sm-12 content">
            <hr/>
            <ul class="list-inline small">
                <li><a href="/documentation/getting-started.html">Getting Started</a></li>
                <li><a href="/documentation/scaffolding.html">Scaffolding</a></li>
                <li><a href="/documentation/controller-and-routes.html">Controller & Routes</a></li>
                <li><a href="/documentation/validator.html">Validator</a></li>
                <li><a href="/documentation/view-templates.html">View Templates</a></li>
                <li><a href="/documentation/oauth.html">OAuth for Login</a></li>
                <li><a href="/documentation/assets.html">Assets Support</a></li>
                <li><a href="/documentation/mail.html">Mail</a></li>
                <li><a href="/documentation/worker_jobs.html">Worker Jobs</a></li>
                <li><a href="/documentation/i18n.html">i18n</a></li>
                <li><a href="/documentation/orm.html">O/R Mapper</a></li>
                <li><a href="/documentation/factory-girl.html">FactoryGirl</a></li>
                <li><a href="/documentation/db-migration.html">DB Migration</a></li>
                <li><a href="/documentation/json.html">Working with JSON</a></li>
                <li><a href="/documentation/angular.html">Angular.js Server Side</a></li>
                <li><a href="/documentation/http-client.html">HTTP Client</a></li>
                <li><a href="/documentation/dependency-injection.html">Dependency Injection</a></li>
                <li><a href="/documentation/tasks.html">Tasks</a></li>
                <li><a href="/documentation/testing.html">Testing</a></li>
                <li><a href="/documentation/packaging.html">Packaging</a></li>
                <li><a href="/documentation/community.html">Community</a></li>
                <li><a href="/contribution.html">Contribution</a></li>
            </ul>
        </div>
        <hr/>
        <div class="col-sm-12">
          <div class="content">
            <h1 id="skinny-framework">Skinny Framework</h1>

<hr/>

<p><img alt="Logo" src="/images/logo.png" width="200"></p>

<h3 id="github-stats">GitHub Stats</h3>

<iframe src="http://ghbtns.com/github-btn.html?user=skinny-framework&repo=skinny-framework&type=watch&count=true&size=large" height="30" width="140" frameborder="0" scrolling="0" style="width:140px; height: 30px;" allowTransparency="true"></iframe>

<iframe src="http://ghbtns.com/github-btn.html?user=skinny-framework&repo=skinny-framework&type=fork&count=true&size=large" height="30" width="140" frameborder="0" scrolling="0" style="width:140px; height: 30px;" allowTransparency="true"></iframe>

<hr/>

<h2 id="what&#39;s-skinny?">What&rsquo;s Skinny?</h2>

<hr/>

<p>Skinny is a full-stack web app framework built on <a href="http://scalatra.org">Scalatra</a>.</p>

<p>To put it simply, Skinny framework&rsquo;s concept is <strong>Scala on Rails</strong>. Skinny is highly inspired by <a href="http://rubyonrails.org/">Ruby on Rails</a> and it is optimized for sustainable productivity for Servlet-based web app development.</p>

<p>What&rsquo;s more, Skinny&rsquo;s components are basically independent from Skinny app environment. If you prefer using only Skinny ORM, Validator module or else, it&rsquo;s also possible. We hope Skinny components help developers that use other frameworks too.</p>

<p>Why Skinny named as Skinny? What does the name <code>Skinny</code> actually mean? We have three reasons as follows.</p>

<p><code>Application should be skinny</code></p>

<p>All the parts of a web application - controllers, models, views, routings and other settings - should be skinny. If you use Skinny framework, you can do without a lot of non-essential boilerplate code. For instance, when you create a simple registration form, all you need to do is define the parameters and validation rules and create view templates in an efficient way (ssp, scaml, jade, FreeMarker or something else) in most cases.</p>

<p><code>Framework itself should be skinny</code></p>

<p>Even if you need to investigate Skinny&rsquo;s internals, don&rsquo;t worry. Skinny keeps itself skinny, too. We believe that if the framework is well-designed, the resulting implementation will be skinny. </p>

<p><code>&#39;su-ki-ni&#39; in Japanese means &#39;as you like it&#39;</code></p>

<p>A sound-alike word <strong>&ldquo;好きに (su-ki-ni)&rdquo;</strong> in Japanese means <strong>&ldquo;as you like it&rdquo;</strong>. This is only half kidding but it also represents Skinny&rsquo;s concept. Skinny framework should provide flexible APIs to empower developers as much as possible and shouldn&rsquo;t get in the way.</p>

<hr/>

<h2 id="try-it-right-now">Try It Right Now</h2>

<hr/>

<p>Download <code>skinny-blank-app(-with-deps).zip</code> and unzip it, then just run ./skinny (or skinny.bat) command on your terminal. That&rsquo;s all!</p>

<p>If you&rsquo;re a Scala beginner, <code>skinny-blank-app-with-deps.zip</code> is highly recommended. This is a bootstrap package which includes all library dependencies. </p>

<p>Don&rsquo;t waste your passion by waiting for the download to complete!</p>

<p><small>
If you&rsquo;re already familiar with Scala and your <code>sbt.ivy.home</code> directory has lots of assets, use <code>skinny-blank-app.zip</code> instead.
</small></p>

<hr/>

<h4 id="1)-skinny-blank-app-with-deps.zip-(85mb)">1) skinny-blank-app-with-deps.zip (85MB)</h4>

<p>For begineers, this one is highly recommended because you don&rsquo;t need to wait download dependencies.</p>

<p><a href="https://github.com/skinny-framework/skinny-framework/releases/download/1.3.4/skinny-blank-app-with-deps.zip"><img alt="Download" src="/images/blank-app-with-deps-download.png" /></a></p>

<h4 id="2)-skinny-blank-app.zip-(1mb)">2) skinny-blank-app.zip (1MB)</h4>

<p>If you&rsquo;re a heavy Scala user, this one will be suitable for you.</p>

<p><a href="https://github.com/skinny-framework/skinny-framework/releases/download/1.3.4/skinny-blank-app.zip"><img alt="Download" src="/images/blank-app-download.png" /></a></p>

<h4 id="3)-homebrew">3) Homebrew</h4>

<p>If you&rsquo;re a MacOS X user, take a look at our Homebrew formula.</p>

<hr/>

<h3 id="homebrew">Homebrew</h3>

<hr/>

<p>If you&rsquo;re a MacOS X user, try our Homebrew formula out.</p>

<p><a href="https://github.com/Homebrew/homebrew/blob/master/Library/Formula/skinny.rb">https://github.com/Homebrew/homebrew/blob/master/Library/Formula/skinny.rb</a></p>
<pre><code class="highlight shell">brew update
brew install skinny

skinny new skinny-blank-app
<span class="nb">cd </span>skinny-blank-app
skinny run
</code></pre>

<p>If you sufferred the following error, try <code>brew uinstall node &amp;&amp; brew install node --with-npm</code> (in some cases, also need to <code>rm -rf /usr/local/lib/node_modules</code>).</p>

<pre>npm is required. If you have installed node with `--without-npm` option, reinstall with `--with-npm`.</pre>

<p><script type="text/javascript" src="https://asciinema.org/a/11426.js" id="asciicast-11426" async></script></p>

<hr/>

<p>After unzipping blank-app.zip, Let&rsquo;s create our first Skinny app by using the scaffold generator.</p>
<pre><code class="highlight shell"><span class="c"># If you're a zsh user, try "noglob ./skinny g scaffold ..."</span>
./skinny g scaffold members member name:String activated:Boolean luckyNumber:Option[Long] birthday:Option[LocalDate]
./skinny db:migrate

<span class="c"># When you use IDE's debugger, use "./skinny debug" instead. (default JDWP port is 5005)</span>
./skinny run
</code></pre>

<p>If you prefer Scalate templates precompilation, specify <code>-precompile</code> option too.</p>
<pre><code class="highlight shell">./skinny run -precompile
</code></pre>

<p>And then, access <code>http://localhost:8080/members</code>.</p>

<p>You can also run the generated tests.</p>
<pre><code class="highlight plaintext">./skinny db:migrate test
./skinny test
</code></pre>

<p>Now let&rsquo;s create a war file for deployment to a Servlet container.</p>
<pre><code class="highlight shell">./skinny package
</code></pre>

<p>It&rsquo;s also possible to build a standalone runnable jar file (with embedded Jetty server).</p>
<pre><code class="highlight shell">./skinny package:standalone
</code></pre>

<hr/>

<h3 id="try-by-using-yeoman-generator">Try by using Yeoman generator</h3>

<hr/>

<p><img alt="Yeoman" src="/images/yeoman.png" /></p>

<p>If you&rsquo;re familiar with <a href="http://yeoman.io">Yeoman</a>, a generator for <a href="https://github.com/skinny-framework/skinny-framework">Skinny framework</a> is available.</p>

<p><a href="https://npmjs.org/package/generator-skinny"><img alt="NPM" src="https://nodei.co/npm/generator-skinny.png?downloads=true" /></a></p>
<pre><code class="highlight shell"><span class="c"># brew install node</span>
npm install -g yo
npm install -g generator-skinny
mkdir skinny-app
<span class="nb">cd </span>skinny-app
yo skinny
./skinny run
</code></pre>

<hr/>

<h3 id="integrating-with-existing-scalatra-apps">Integrating with existing Scalatra apps</h3>

<hr/>

<p>Actually, an application built with Skinny framework is a normal Scalatra application.</p>

<p>After preparing the Scalatra app, just add the following dependency to your <code>project/Build.scala</code>.</p>
<pre><code class="highlight plaintext">libraryDependencies ++= Seq(
  "org.skinny-framework" %  "skinny-logback"            % "1.0.3",
  "org.skinny-framework" %% "skinny-assets"             % "1.3.4",
  "org.skinny-framework" %% "skinny-framework"          % "1.3.4",
  "org.skinny-framework" %% "skinny-task"               % "1.3.4",
  "org.skinny-framework" %% "skinny-scaldi"             % "1.3.4",
  "org.skinny-framework" %% "skinny-oauth2-controller"  % "1.3.4",
  "org.skinny-framework" %% "skinny-twitter-controller" % "1.3.4",
  "org.skinny-framework" %% "skinny-test"               % "1.3.4" % "test",
  "org.skinny-framework" %% "skinny-factory-girl"       % "1.3.4" % "test"
)
</code></pre>

<p>If you need only Skinny-ORM or Skinny-Validator, you can use only what you need. Even if you&rsquo;re using Play2 (or any other framework), these components are available for you as well.</p>
<pre><code class="highlight plaintext">libraryDependencies ++= Seq(
  "org.skinny-framework" %  "skinny-logback"      % "1.0.3",
  "org.skinny-framework" %% "skinny-orm"          % "1.3.4",
  "org.skinny-framework" %% "skinny-mailer"       % "1.3.4",
  "org.skinny-framework" %% "skinny-standalone"   % "1.3.4",
  "org.skinny-framework" %% "skinny-validator"    % "1.3.4",
  "org.skinny-framework" %% "skinny-http-client"  % "1.3.4",
  "org.skinny-framework" %% "skinny-factory-girl" % "1.3.4" % "test"
)
</code></pre>

<hr/>

<h3 id="1.3-migration-guide-for-1.2.x-users">1.3 Migration Guide for 1.2.x Users</h3>

<hr/>

<p><a href="https://github.com/skinny-framework/skinny-framework/releases/tag/1.3.0">https://github.com/skinny-framework/skinny-framework/releases/tag/1.3.0</a></p>

<p>Deprecated joda-time methods in WrappedResultSet are removed. If you you&rsquo;re using <code>rs.dateTime(...)</code>, just rename it to <code>rs.jodaDateTime(...)</code>.</p>

<hr/>

<h3 id="1.2-migration-guide-for-1.1.x-users">1.2 Migration Guide for 1.1.x Users</h3>

<hr/>

<p>APIs are basically compatible. If you don&rsquo;t have some extensions that depend on <code>LocaleFeature</code>, <code>RequestScopeFeature</code> and <code>SkinnySessionFilter</code> methods, 
your app will work fine without changing your code.</p>

<p><a href="https://github.com/skinny-framework/skinny-framework/releases/tag/1.2.0">https://github.com/skinny-framework/skinny-framework/releases/tag/1.2.0</a></p>

<p>Though we believe migration is not difficult, please tell us here if you find something wrong.</p>

<p><a href="https://github.com/skinny-framework/skinny-framework/issues">https://github.com/skinny-framework/skinny-framework/issues</a></p>

<hr/>

<h3 id="1.1-migration-guide-for-1.0.x-users">1.1 Migration Guide for 1.0.x Users</h3>

<hr/>

<p>Skinny 1.1 APIs are basically compatible with Skinny 1.0 though the release includes basic dependencies&rsquo; major upgrades. 
If your app depends on the dependencies directly (not via Skinny APIs), you may need to update your code.</p>

<ul>
<li>All the components run on Scala 2.11 or Scala 2.10 (Skinny 1.0: Scala 2.10)</li>
<li>Web framework runs on Java 7 or higher (Skinny 1.0: Java 6 or higher) </li>
<li>Web framework is compatible with Servlet API 3.1 (Skinny 1.0: Servlet 3.0)</li>
<li>Web framework depends on Scalatra 2.3 (Skinny 1.0: Scalatra 2.2)</li>
<li>ORM depends on ScalikeJDBC 2.0 (Skinny 1.0: ScalikeJDBC 1.8)</li>
<li>Migration command depends on Flyway 3.0 (Skinny 1.0: Flyway 2.3)</li>
<li>Test support depends on ScalaTest 2.2 (Skinny 1.0: ScalaTest 1.9)</li>
</ul>

<p><a href="https://github.com/skinny-framework/skinny-framework/releases/tag/1.1.0">https://github.com/skinny-framework/skinny-framework/releases/tag/1.1.0</a></p>

<p>Though we believe migration is not difficult, please tell us here if you find something wrong.</p>

<p><a href="https://github.com/skinny-framework/skinny-framework/issues">https://github.com/skinny-framework/skinny-framework/issues</a></p>

<hr/>

<h4 id="update-skinny-project-structure-by-using-yeoman">Update skinny project structure by using Yeoman</h4>

<p>Yo can use Yeoman to merge updates in skinny-blank-app project. Yeoman&rsquo;s merging process is similar to Rails generator. Very easy to use!</p>
<pre><code class="highlight plaintext">npm install -g yo
npm install -g generator-skinny
yo skinny
</code></pre>

<hr/>

<h4 id="&quot;org.scalatest.matchers.shouldmatchers&quot;-is-deprecated">&ldquo;org.scalatest.matchers.ShouldMatchers&rdquo; is deprecated</h4>

<p>Use &ldquo;org.scalatest.Matchers&rdquo; instead. Sorry to say this.</p>

<hr/>

<h4 id="importing-&quot;scalikejdbc.sqlinterpolation._&quot;-is-deprecated">Importing &ldquo;scalikejdbc.SQLInterpolation._&rdquo; is deprecated</h4>

<p>Just import only &ldquo;scalikejdbc._&rdquo;.</p>

<p>See also: <a href="https://github.com/skinny-framework/skinny-framework/commit/1e44f60e5c5d0f53ab0102697a00413ad7a696d0">https://github.com/skinny-framework/skinny-framework/commit/1e44f60e5c5d0f53ab0102697a00413ad7a696d0</a></p>

<hr/>

<h4 id="renamed-joda-time-apis-due-to-jsr-310">Renamed joda-time APIs due to JSR-310</h4>

<p><code>WrappedResultSet#dateTime</code>, <code>#localDate</code>, <code>#localTime</code> and <code>#localDateTime</code> are deprecated and <code>#jodaDateTime</code> and #jodaXXX are added.</p>

<p>See also the issue: <a href="https://github.com/scalikejdbc/scalikejdbc/issues/222">https://github.com/scalikejdbc/scalikejdbc/issues/222</a></p>

<p>Other changes in ScalikeJDBC 2.0:</p>

<p><a href="https://github.com/scalikejdbc/scalikejdbc/blob/develop/notes/2.0.0.markdown">https://github.com/scalikejdbc/scalikejdbc/blob/develop/notes/2.0.0.markdown</a></p>

<hr/>

<h4 id="skinny-package&#39;s-scalate-precompilation-error">skinny package&rsquo;s Scalate precompilation error</h4>

<p>Since Scalate 1.7.0, Skinny&rsquo;s blank app project&rsquo;s settings fail to execute <code>package</code> command.</p>
<pre><code class="highlight plaintext">default_ssp.scala:7: $_scalate_$default_ssp is already defined as object $_scalate_$default_ssp
</code></pre>

<p>Remove scalateSettings if your build settings loads it twice.</p>

<p>See also: <a href="https://github.com/skinny-framework/skinny-framework/commit/4ad2b874116ad3b60b76b104b2bf528106aeda87">https://github.com/skinny-framework/skinny-framework/commit/4ad2b874116ad3b60b76b104b2bf528106aeda87</a></p>

<hr/>

<h2 id="skinny&#39;s-components-overview">Skinny&rsquo;s Components Overview</h2>

<hr/>

<h3 id="routing-&amp;-controller-&amp;-validator">Routing &amp; Controller &amp; Validator</h3>

<hr/>

<p>Skinny&rsquo;s routing mechanism and controller layer on MVC architecture can be thought of as a <strong>rich Scalatra</strong>. Skinny&rsquo;s extension provides you much simpler/rich syntax. Of course, if you need to use Scalatra&rsquo;s API directly, Skinny never bothers you.</p>

<p><img alt="Scalatra" src="/images/scalatra.png" /></p>

<p><code>SkinnyController</code> is a trait which extends <code>ScalatraFilter</code> and includes various useful components out-of-the-box. </p>
<pre><code class="highlight scala"><span class="c1">// src/main/scala/controller/MembersController.scala
</span><span class="k">class</span> <span class="nc">MembersController</span> <span class="k">extends</span> <span class="nc">SkinnyController</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">index</span> <span class="k">=</span> <span class="o">{</span>
    <span class="n">set</span><span class="o">(</span><span class="s">"members"</span> <span class="o">-&gt;</span> <span class="nc">Member</span><span class="o">.</span><span class="n">findAll</span><span class="o">())</span> <span class="c1">// can call this in views
</span>    <span class="n">render</span><span class="o">(</span><span class="s">"/members/index"</span><span class="o">)</span>
  <span class="o">}</span>
<span class="o">}</span>
<span class="c1">// src/main/scala/controller/Controllers.scala
</span><span class="k">object</span> <span class="nc">Controllers</span> <span class="o">{</span>
  <span class="k">object</span> <span class="nc">members</span> <span class="k">extends</span> <span class="nc">MembersController</span> <span class="k">with</span> <span class="nc">Routes</span> <span class="o">{</span>
    <span class="k">val</span> <span class="n">indexUrl</span> <span class="k">=</span> <span class="n">get</span><span class="o">(</span><span class="s">"/members/?"</span><span class="o">)(</span><span class="n">index</span><span class="o">).</span><span class="n">as</span><span class="o">(</span><span class="ss">'index)</span>
  <span class="o">}</span>
<span class="o">}</span>
<span class="c1">// src/main/scala/ScalatraBootstrap.scala
</span><span class="k">class</span> <span class="nc">ScalatraBootstrap</span> <span class="k">extends</span> <span class="nc">SkinnyLifeCycle</span> <span class="o">{</span>
  <span class="k">override</span> <span class="k">def</span> <span class="n">initSkinnyApp</span><span class="o">(</span><span class="n">ctx</span><span class="k">:</span> <span class="kt">ServletContext</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Controllers</span><span class="o">.</span><span class="n">members</span><span class="o">.</span><span class="n">mount</span><span class="o">(</span><span class="n">ctx</span><span class="o">)</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p><code>SkinnyResource</code>, which is similar to Rails ActiveResource, is also available. It&rsquo;s a pretty DRY way to define RESTful resources.</p>
<pre><code class="highlight scala"><span class="k">object</span> <span class="nc">CompaniesController</span> <span class="k">extends</span> <span class="nc">SkinnyResource</span> <span class="o">{</span>
  <span class="n">protectFromForgery</span><span class="o">()</span>

  <span class="k">override</span> <span class="k">def</span> <span class="n">model</span> <span class="k">=</span> <span class="nc">Company</span>
  <span class="k">override</span> <span class="k">def</span> <span class="n">resourcesName</span> <span class="k">=</span> <span class="s">"companies"</span>
  <span class="k">override</span> <span class="k">def</span> <span class="n">resourceName</span> <span class="k">=</span> <span class="s">"company"</span>

  <span class="o">...</span>
<span class="o">}</span>
</code></pre>

<p><code>Company</code> object should implement <code>skinny.SkinnyModel</code> APIs and you should prepare some view templates under <code>src/main/webapp/WEB-INF/views/members/</code>.</p>

<p>See in detail: <a href="/documentation/controller-and-routes.html">Controller &amp; Routes</a></p>

<hr/>

<h3 id="skinny-orm">Skinny ORM</h3>

<hr/>

<p>Skinny provides you Skinny-ORM as the default O/R mapper, which is built with <a href="https://github.com/scalikejdbc/scalikejdbc">ScalikeJDBC</a>.</p>

<p><img alt="Logo" src="/images/scalikejdbc.png" /></p>

<p>Skinny-ORM does a lot of work under the hood, so you don&rsquo;t need to write much code. Your first model class and companion are here.</p>
<pre><code class="highlight scala"><span class="k">case</span> <span class="k">class</span> <span class="nc">Member</span><span class="o">(</span><span class="n">id</span><span class="k">:</span> <span class="kt">Long</span><span class="o">,</span> <span class="n">name</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">createdAt</span><span class="k">:</span> <span class="kt">DateTime</span><span class="o">)</span>

<span class="k">object</span> <span class="nc">Member</span> <span class="k">extends</span> <span class="nc">SkinnyCRUDMapper</span><span class="o">[</span><span class="kt">Member</span><span class="o">]</span> <span class="o">{</span>
  <span class="k">override</span> <span class="k">def</span> <span class="n">defaultAlias</span> <span class="k">=</span> <span class="n">createAlias</span><span class="o">(</span><span class="s">"m"</span><span class="o">)</span>
  <span class="k">override</span> <span class="k">def</span> <span class="n">extract</span><span class="o">(</span><span class="n">rs</span><span class="k">:</span> <span class="kt">WrappedResultSet</span><span class="o">,</span> <span class="n">n</span><span class="k">:</span> <span class="kt">ResultName</span><span class="o">[</span><span class="kt">Member</span><span class="o">])</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Member</span><span class="o">(</span>
    <span class="n">id</span> <span class="k">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">long</span><span class="o">(</span><span class="n">n</span><span class="o">.</span><span class="n">id</span><span class="o">),</span>
    <span class="n">name</span> <span class="k">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">string</span><span class="o">(</span><span class="n">n</span><span class="o">.</span><span class="n">name</span><span class="o">),</span>
    <span class="n">createdAt</span> <span class="k">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">dateTime</span><span class="o">(</span><span class="n">n</span><span class="o">.</span><span class="n">createdAt</span><span class="o">)</span>
  <span class="o">)</span>
<span class="o">}</span>
</code></pre>

<p>That&rsquo;s all! Now you can use the following APIs.</p>
<pre><code class="highlight scala"><span class="c1">// find by primary key
</span><span class="k">val</span> <span class="n">member</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">Member</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Member</span><span class="o">.</span><span class="n">findById</span><span class="o">(</span><span class="mi">123</span><span class="o">)</span>
<span class="k">val</span> <span class="n">member</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">Member</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Member</span><span class="o">.</span><span class="n">where</span><span class="o">(</span><span class="ss">'id </span><span class="o">-&gt;</span> <span class="mi">123</span><span class="o">).</span><span class="n">apply</span><span class="o">().</span><span class="n">headOption</span>
<span class="k">val</span> <span class="n">members</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">Member</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Member</span><span class="o">.</span><span class="n">where</span><span class="o">(</span><span class="ss">'id </span><span class="o">-&gt;</span> <span class="nc">Seq</span><span class="o">(</span><span class="mi">123</span><span class="o">,</span> <span class="mi">234</span><span class="o">,</span> <span class="mi">345</span><span class="o">)).</span><span class="n">apply</span><span class="o">()</span>

<span class="c1">// find many
</span><span class="k">val</span> <span class="n">members</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">Member</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Member</span><span class="o">.</span><span class="n">findAll</span><span class="o">()</span>
<span class="k">val</span> <span class="n">groupMembers</span> <span class="k">=</span> <span class="nc">Member</span><span class="o">.</span><span class="n">where</span><span class="o">(</span><span class="ss">'groupName </span><span class="o">-&gt;</span> <span class="s">"Scala Users"</span><span class="o">,</span> <span class="ss">'deleted </span><span class="o">-&gt;</span> <span class="kc">false</span><span class="o">).</span><span class="n">apply</span><span class="o">()</span>

<span class="c1">// create with unsafe parameters
</span><span class="nc">Member</span><span class="o">.</span><span class="n">createWithAttributes</span><span class="o">(</span>
  <span class="ss">'id </span><span class="o">-&gt;</span> <span class="mi">123</span><span class="o">,</span>
  <span class="ss">'name </span><span class="o">-&gt;</span> <span class="s">"Chris"</span><span class="o">,</span>
  <span class="ss">'createdAt </span><span class="o">-&gt;</span> <span class="nc">DateTime</span><span class="o">.</span><span class="n">now</span>
<span class="o">)</span>
<span class="c1">// update with unsafe parameters
</span><span class="nc">Member</span><span class="o">.</span><span class="n">updateById</span><span class="o">(</span><span class="mi">123</span><span class="o">).</span><span class="n">withAttributes</span><span class="o">(</span><span class="ss">'name </span><span class="o">-&gt;</span> <span class="s">"Alice"</span><span class="o">)</span>
<span class="c1">// delete
</span><span class="nc">Member</span><span class="o">.</span><span class="n">deleteById</span><span class="o">(</span><span class="mi">234</span><span class="o">)</span>
</code></pre>

<p>See in detail: <a href="/documentation/orm.html">O/R Mapper</a></p>

<hr/>

<h3 id="db-migration-with-flyway">DB Migration with Flyway</h3>

<hr/>

<p>DB migration is provided by <a href="http://flywaydb.org/">Flyway</a>. Usage is pretty simple.</p>

<p><img alt="Flyway Logo" src="/images/flyway.png" /></p>
<pre><code class="highlight shell">./skinny db:migrate <span class="o">[</span>env]
</code></pre>

<p>This command expects <code>src/main/resources/db/migration/V***__***.sql</code> files. </p>

<p>See in detail: <a href="/documentation/db-migration.html">DB Migration</a></p>

<hr/>

<h3 id="view-templates">View Templates</h3>

<hr/>

<p>Skinny framework basically follows Scalatra&rsquo;s <a href="http://scalate.github.io/scalate/">Scalate</a> Support, but Skinny has an additional convention.</p>

<p><img alt="Scalate Logo" src="/images/scalate.png" /></p>

<p>Template paths should be of the form <code>{path}.{format}.{extension}</code>. Expected {format} are <code>html</code>, <code>json</code>, <code>js</code> and <code>xml</code>.</p>

<p>For instance, assuming your controller code looks like this:</p>
<pre><code class="highlight scala"><span class="k">class</span> <span class="nc">MembersController</span> <span class="k">extends</span> <span class="nc">SkinnyController</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">index</span> <span class="k">=</span> <span class="o">{</span>
    <span class="n">set</span><span class="o">(</span><span class="s">"members"</span><span class="o">,</span> <span class="nc">Member</span><span class="o">.</span><span class="n">findAll</span><span class="o">())</span>
    <span class="n">render</span><span class="o">(</span><span class="s">"/members/index"</span><span class="o">)</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>The render method expects that <code>src/main/webapp/WEB-INF/views/members/index.html.ssp</code> exists.</p>
<pre><code class="highlight plaintext">&lt;%=@val members: Seq[model.Member] %&gt;
&lt;hr/&gt;
#for (member &lt;- members)
  ${member.name}
#end
</code></pre>

<p>Scalate supports many template engines. For example, if you want to write your template using Jade, save it as <code>src/main/webapp/WEB-INF/views/members/index.html.jade</code> instead.</p>

<p>See in detail: <a href="/documentation/view-templates.html">View Templates</a></p>

<hr/>

<h3 id="skinny-mailer">Skinny Mailer</h3>

<hr/>

<p>SkinnyMailer makes sending emails pretty easy.</p>
<pre><code class="highlight scala"><span class="k">val</span> <span class="n">config</span> <span class="k">=</span> <span class="nc">SkinnyMailerConfigdefault</span><span class="o">.</span><span class="n">copy</span><span class="o">(</span>
  <span class="n">debug</span> <span class="k">=</span> <span class="kc">true</span>
<span class="o">)</span>
<span class="k">val</span> <span class="n">mailer</span> <span class="k">=</span> <span class="nc">SkinnyMailer</span><span class="o">(</span><span class="n">config</span><span class="o">)</span>

<span class="n">mailer</span>
  <span class="o">.</span><span class="n">from</span><span class="o">(</span><span class="s">"info@skinny-framework.org"</span><span class="o">)</span>
  <span class="o">.</span><span class="n">to</span><span class="o">(</span><span class="s">"you@example.com"</span><span class="o">)</span>
  <span class="o">.</span><span class="n">cc</span><span class="o">(</span><span class="s">"support@skinny-framework.org"</span><span class="o">,</span> <span class="s">"xxx@example.com"</span><span class="o">)</span>
  <span class="o">.</span><span class="n">subject</span><span class="o">(</span><span class="s">"Skinny Framework 1.0.0 is out!"</span><span class="o">)</span>
  <span class="o">.</span><span class="n">body</span> <span class="o">{</span>
    <span class="s">"""Hi all,
    |
    |We're very proud to announce that Skinny Framework version 1.0.0 is relaesed.
    |
    |.....
    |
    |Best,
    |Skinny Framework Team
    |"""</span><span class="o">.</span><span class="n">stripMargin</span>
  <span class="o">}.</span><span class="n">deliver</span><span class="o">()</span>
</code></pre>

<p>See in detail: <a href="/documentation/mail.html">Mail</a></p>

<hr/>

<h3 id="assets-support-(coffeescript,-less,-sass,-reactjs,-scala.js)">Assets Support (CoffeeScript, LESS, Sass, ReactJS, Scala.js)</h3>

<hr/>

<p><img alt="CoffeeScript Logo" src="/images/coffeescript.png" />
<img alt="LESS Logo" src="/images/less.png" />
<img alt="Sass Logo" src="/images/sass.png" />
<img alt="React Logo" src="/images/react.png" />
<img alt="Scala.js" src="/images/scalajs.png" /></p>

<p>First, add <code>skinny-assets</code> to libraryDependencies.</p>
<pre><code class="highlight plaintext">libraryDependencies ++= Seq(
  "org.skinny-framework" %% "skinny-framework" % "1.3.4",
  "org.skinny-framework" %% "skinny-assets"    % "1.3.4",
  "org.skinny-framework" %% "skinny-test"      % "1.3.4" % "test"
)
</code></pre>

<p>And then, add <code>AssetsController</code> to routes. Now you can easily use CoffeeScript, LESS and Sass.</p>
<pre><code class="highlight scala"><span class="c1">// src/main/scala/ScalatraBootstrap.scala
</span><span class="k">class</span> <span class="nc">ScalatraBootstrap</span> <span class="k">extends</span> <span class="nc">SkinnyLifeCycle</span> <span class="o">{</span>
  <span class="k">override</span> <span class="k">def</span> <span class="n">initSkinnyApp</span><span class="o">(</span><span class="n">ctx</span><span class="k">:</span> <span class="kt">ServletContext</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">AssetsController</span><span class="o">.</span><span class="n">mount</span><span class="o">(</span><span class="n">ctx</span><span class="o">)</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>AssetsController supports Last-Modified header and returns status 304 correctly if the requested file isn&rsquo;t changed. </p>

<p>However, precompiling the assets is highly recommended in production (<code>./skinny package</code> does that).</p>

<p>See in detail: <a href="/documentation/assets.html">Assets Support</a></p>

<hr/>

<h3 id="angular.js-friendly-server-side">Angular.js Friendly Server Side</h3>

<hr/>

<p><img alt="Angular Logo" src="/images/angularjs.png" /></p>

<p>By using <code>AngularXHRServerFeature</code> trait, your controllers will be Angular.js friendly JSON API provider.</p>
<pre><code class="highlight scala"><span class="k">class</span> <span class="nc">ArticlesController</span> <span class="k">extends</span> <span class="nc">SkinnyApiResource</span> <span class="k">with</span> <span class="nc">AngularXHRServerFeature</span> <span class="o">{</span>
  <span class="c1">// Enable Angular's XSRF protection
</span>  <span class="n">protectFromForgery</span><span class="o">()</span>

  <span class="c1">// JSON request body will be merged into Scalatra params automatically
</span>  <span class="c1">// ...
</span>
<span class="o">}</span>
</code></pre>

<p>And your ngResource is like this:</p>
<pre><code class="highlight javascript"><span class="nx">app</span><span class="p">.</span><span class="nx">factory</span><span class="p">(</span><span class="s1">'Article'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'$resource'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$resource</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">$resource</span><span class="p">(</span><span class="s1">'/api/articles/:id.json'</span><span class="p">,</span> <span class="p">{},</span> <span class="p">{});</span>
<span class="p">}]);</span>
</code></pre>

<p>See in detail: <a href="/documentation/angular.html">Angular Support</a></p>

<hr/>

<h3 id="testing-support">Testing Support</h3>

<hr/>

<p>You can use Scalatra&rsquo;s great test support. Some extra optional features are provided by the skinny-test library.</p>
<pre><code class="highlight scala"><span class="k">class</span> <span class="nc">ControllerSpec</span> <span class="k">extends</span> <span class="nc">ScalatraFlatSpec</span> <span class="k">with</span> <span class="nc">SkinnyTestSupport</span> <span class="o">{</span>
  <span class="n">addFilter</span><span class="o">(</span><span class="nc">MembersController</span><span class="o">,</span> <span class="s">"/*"</span><span class="o">)</span>

  <span class="n">it</span> <span class="n">should</span> <span class="s">"show index page"</span> <span class="n">in</span> <span class="o">{</span>
    <span class="n">withSession</span><span class="o">(</span><span class="s">"userId"</span> <span class="o">-&gt;</span> <span class="s">"Alice"</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">get</span><span class="o">(</span><span class="s">"/members"</span><span class="o">)</span> <span class="o">{</span> <span class="n">status</span> <span class="n">should</span> <span class="n">equal</span><span class="o">(</span><span class="mi">200</span><span class="o">)</span> <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>See in detail: <a href="/documentation/testing.html">Testing</a></p>

<hr/>

<h3 id="factorygirl">FactoryGirl</h3>

<hr/>

<p>Though Skinny&rsquo;s FactoryGirl is not a complete port of <a href="https://github.com/thoughtbot/factory_girl">thoughtbot/factory_girl</a>, this module will be quite useful when testing your apps.</p>
<pre><code class="highlight scala"><span class="k">case</span> <span class="k">class</span> <span class="nc">Company</span><span class="o">(</span><span class="n">id</span><span class="k">:</span> <span class="kt">Long</span><span class="o">,</span> <span class="n">name</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span>
<span class="k">object</span> <span class="nc">Company</span> <span class="k">extends</span> <span class="nc">SkinnyCRUDMapper</span><span class="o">[</span><span class="kt">Company</span><span class="o">]</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">extract</span> <span class="o">...</span>
<span class="o">}</span>

<span class="k">val</span> <span class="n">company1</span> <span class="k">=</span> <span class="nc">FactoryGirl</span><span class="o">(</span><span class="nc">Company</span><span class="o">).</span><span class="n">create</span><span class="o">()</span>
</code></pre>

<p>Configuration is not in yaml files but a typesafe-config conf file. In this example, <code>src/test/resources/factories.conf</code> looks like this:</p>
<pre><code class="highlight plaintext">company {
  name="Typesafe"
}
</code></pre>

<p>See in detail: <a href="/documentation/factory-girl.html">FactoryGirl</a></p>

<hr/>

<h3 id="skinny-framework-team-and-you">Skinny Framework Team and You</h3>

<hr/>

<p>Skinny Framework team is passionately working on this project.</p>

<p><a href="https://github.com/orgs/skinny-framework/people">https://github.com/orgs/skinny-framework/people</a></p>

<p>If you&rsquo;re interested in Skinny development, pull requests are always welcome.</p>

<p><a href="/contribution.html">How to contribute</a></p>

<hr/>

<h3 id="build-status">Build Status</h3>

<hr/>

<p><a href="https://travis-ci.org/skinny-framework/skinny-framework"><img src="https://travis-ci.org/skinny-framework/skinny-framework.png" alt="Build Status"></a></p>

<hr/>

<h3 id="under-the-mit-license">Under The MIT License</h3>

<hr/>

<p>(The MIT License)</p>

<p>Copyright &copy; skinny-framework.org</p>

            <hr/>
            <div class="alert alert-info small"> 
              If you find a typo or mistake in this page, please report or fix it. <a href="/contribution.html">How?</a>
            </div> 

<a href="https://twitter.com/skinnyframework" class="twitter-follow-button" data-show-count="false">Follow @skinnyframework</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<a href="https://twitter.com/share" class="twitter-share-button" data-url="http://skinny-framework.org/" data-text="#Scala on #Rails" data-via="skinnyframework">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
</a>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=658247244206928";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<div class="fb-like" data-href="http://skinny-framework.org/" data-layout="standard" data-action="recommend" data-show-faces="true" data-share="true"></div>

          </div>
        </div>
      </div>
    </div>
    <script type="text/javascript" src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
  </body>
</html>

